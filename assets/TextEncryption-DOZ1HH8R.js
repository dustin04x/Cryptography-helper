import{r as n,j as e,t as i}from"./index-ChRaBGo1.js";import{b as K,m as S,a as P,s as R,p as I,r as A,c as D,d as M,e as B,f as J,v as O,g as $}from"./crypto-utils-DC5ZfzVS.js";import"./react-vendor-Bzgz95E1.js";function Z(){const[a,p]=n.useState(""),[o,g]=n.useState(""),[d,x]=n.useState(""),[c,y]=n.useState(3),[b,f]=n.useState(""),[s,h]=n.useState("caesar"),[t,k]=n.useState(!0),[N,v]=n.useState(!1);n.useEffect(()=>{const r=localStorage.getItem("crypto-settings");if(r){const l=JSON.parse(r);h(l.cipherType||"caesar"),g(l.key||""),x(l.key2||""),y(l.rails||3)}},[]),n.useEffect(()=>{localStorage.setItem("crypto-settings",JSON.stringify({cipherType:s,key:o,key2:d,rails:c}))},[s,o,d,c]);const T=async()=>{if(!a.trim()){i.error("Please enter some text");return}if(["caesar","vigenere","aes","railfence","playfair","substitution","affine"].includes(s)&&!o.trim()){i.error("Please enter a key");return}v(!0);try{let r="";switch(s){case"caesar":const l=parseInt(o);if(isNaN(l)){i.error("Caesar cipher requires a numeric key");return}r=$(a,t?l:-l);break;case"vigenere":r=O(a,o,t);break;case"aes":t?r=await B(a,o):r=await J(a,o);break;case"atbash":r=M(a);break;case"rot13":r=D(a);break;case"railfence":if(c<2){i.error("Rail fence cipher requires at least 2 rails");return}r=A(a,c,t);break;case"playfair":r=I(a,o,t);break;case"substitution":r=R(a,o,t);break;case"affine":const j=parseInt(o),C=parseInt(d);if(isNaN(j)||isNaN(C)){i.error("Affine cipher requires numeric parameters");return}r=P(a,j,C,t);break;case"morse":r=S(a,t);break;case"binary":r=K(a,t);break}f(r),i.success(`Text ${t?"encrypted":"decrypted"} successfully`)}catch(r){i.error(r.message||"Processing failed. Check your input and key."),console.error(r)}finally{v(!1)}},E=()=>{navigator.clipboard.writeText(b),i.success("Copied to clipboard")},w=()=>{p(""),f(""),i.info("Cleared all fields")},m=n.useMemo(()=>[{id:"caesar",name:"Caesar",desc:"Shift letters by N positions",needsKey:!0,keyType:"number"},{id:"vigenere",name:"VigenÃ¨re",desc:"Polyalphabetic substitution",needsKey:!0,keyType:"text"},{id:"aes",name:"AES",desc:"Advanced Encryption Standard",needsKey:!0,keyType:"text"},{id:"atbash",name:"Atbash",desc:"A=Z, B=Y substitution",needsKey:!1},{id:"rot13",name:"ROT13",desc:"Caesar cipher with shift 13",needsKey:!1},{id:"railfence",name:"Rail Fence",desc:"Zigzag pattern cipher",needsKey:!1,needsRails:!0},{id:"playfair",name:"Playfair",desc:"5x5 grid digraph cipher",needsKey:!0,keyType:"text"},{id:"substitution",name:"Substitution",desc:"Replace each letter",needsKey:!0,keyType:"text"},{id:"affine",name:"Affine",desc:"Mathematical linear cipher",needsKey:!0,keyType:"number",needsKey2:!0},{id:"morse",name:"Morse Code",desc:"Dots and dashes",needsKey:!1},{id:"binary",name:"Binary",desc:"8-bit binary encoding",needsKey:!1}],[]),u=n.useMemo(()=>m.find(r=>r.id===s),[m,s]);return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"glass-card p-6 float-animation",children:[e.jsx("h2",{className:"text-xl font-bold text-green-400 mb-4 font-mono",children:"Text Encryption & Decryption"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 mb-6",children:m.map(r=>e.jsxs("button",{onClick:()=>h(r.id),className:`p-3 rounded-lg border text-left transition-all backdrop-blur-sm ${s===r.id?"border-green-500 bg-green-500/20 shadow-lg shadow-green-500/25":"border-gray-600/50 bg-gray-800/50 hover:border-green-500/50 hover:bg-gray-700/50"}`,children:[e.jsx("div",{className:"font-mono text-green-400 font-bold text-sm",children:r.name}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r.desc})]},r.id))}),!["atbash","rot13"].includes(s)&&e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"bg-gray-800/80 backdrop-blur-sm rounded-lg p-1 flex",children:[e.jsx("button",{onClick:()=>k(!0),className:`px-4 py-2 rounded font-mono text-sm transition-all ${t?"bg-green-500/90 text-black shadow-md":"text-green-400 hover:bg-gray-700/50"}`,children:s==="morse"||s==="binary"?"Encode":"Encrypt"}),e.jsx("button",{onClick:()=>k(!1),className:`px-4 py-2 rounded font-mono text-sm transition-all ${t?"text-green-400 hover:bg-gray-700/50":"bg-green-500/90 text-black shadow-md"}`,children:s==="morse"||s==="binary"?"Decode":"Decrypt"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-green-400 font-mono mb-2",children:t||["atbash","rot13"].includes(s)?"Input Text":"Encrypted Text"}),e.jsx("textarea",{value:a,onChange:r=>p(r.target.value),placeholder:`Enter text to ${t||["atbash","rot13"].includes(s)?"encrypt":"decrypt"}...`,className:"w-full h-32 bg-black/80 backdrop-blur-sm border border-green-500/30 rounded-lg p-3 text-green-300 font-mono resize-none focus:border-green-500 focus:outline-none"})]}),e.jsxs("div",{className:"space-y-4",children:[u?.needsKey&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-green-400 font-mono mb-2",children:[s==="affine"?"Parameter A":"Key",s==="substitution"&&" (26 unique letters)"]}),e.jsx("input",{type:u.keyType==="number"?"number":"text",value:o,onChange:r=>g(r.target.value),placeholder:s==="caesar"?"Enter shift number (e.g., 3)":s==="substitution"?"ZYXWVUTSRQPONMLKJIHGFEDCBA":s==="affine"?"Enter number coprime with 26":"Enter encryption key",className:"w-full bg-black/80 backdrop-blur-sm border border-green-500/30 rounded-lg p-3 text-green-300 font-mono focus:border-green-500 focus:outline-none"})]}),u?.needsKey2&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-green-400 font-mono mb-2",children:"Parameter B"}),e.jsx("input",{type:"number",value:d,onChange:r=>x(r.target.value),placeholder:"Enter second parameter (e.g., 5)",className:"w-full bg-black/80 backdrop-blur-sm border border-green-500/30 rounded-lg p-3 text-green-300 font-mono focus:border-green-500 focus:outline-none"})]}),u?.needsRails&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-green-400 font-mono mb-2",children:"Number of Rails"}),e.jsx("input",{type:"number",min:"2",max:"10",value:c,onChange:r=>y(parseInt(r.target.value)||3),className:"w-full bg-black/80 backdrop-blur-sm border border-green-500/30 rounded-lg p-3 text-green-300 font-mono focus:border-green-500 focus:outline-none"})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[e.jsx("button",{onClick:T,disabled:N,className:"px-6 py-2 bg-green-500/90 backdrop-blur-sm text-black font-mono font-bold rounded-lg hover:bg-green-400/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:N?"Processing...":["atbash","rot13"].includes(s)?"ğŸ”„ Transform":t?"ğŸ” Encrypt":"ğŸ”“ Decrypt"}),b&&e.jsx("button",{onClick:E,className:"px-4 py-2 bg-gray-700/80 backdrop-blur-sm text-green-400 font-mono rounded-lg hover:bg-gray-600/80 transition-colors",children:"ğŸ“‹ Copy Result"}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-red-900/80 backdrop-blur-sm text-red-300 font-mono rounded-lg hover:bg-red-800/80 transition-colors",children:"ğŸ—‘ï¸ Clear"})]}),b&&e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-green-400 font-mono mb-2",children:["atbash","rot13"].includes(s)?"Transformed Text":t?"Encrypted Text":"Decrypted Text"}),e.jsx("div",{className:"bg-black/80 backdrop-blur-sm border border-green-500 rounded-lg p-4",children:e.jsx("pre",{className:"text-green-300 font-mono whitespace-pre-wrap break-all",children:b})})]}),s==="substitution"&&e.jsx("div",{className:"mt-4 bg-blue-900/30 backdrop-blur-sm border border-blue-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-blue-200 text-sm font-mono",children:"ğŸ’¡ Substitution cipher key must contain all 26 letters exactly once. Example: ZYXWVUTSRQPONMLKJIHGFEDCBA (reverse alphabet)"})}),s==="affine"&&e.jsx("div",{className:"mt-4 bg-blue-900/30 backdrop-blur-sm border border-blue-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-blue-200 text-sm font-mono",children:"ğŸ’¡ Parameter A must be coprime with 26. Valid values: 1, 3, 5, 7, 9, 11, 15, 17, 19, 21, 23, 25"})}),s==="playfair"&&e.jsx("div",{className:"mt-4 bg-blue-900/30 backdrop-blur-sm border border-blue-500/30 rounded-lg p-3",children:e.jsx("p",{className:"text-blue-200 text-sm font-mono",children:"ğŸ’¡ Playfair cipher uses a 5Ã—5 grid. J is combined with I. Text is processed in pairs."})})]})})}export{Z as TextEncryption};
